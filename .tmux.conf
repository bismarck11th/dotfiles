# Hierarchy:
#  Server
#  ㄴSession
#    ㄴWindow
#      ㄴPane

## ----------------------------------------
##  basic
## ----------------------------------------
# tmux起動時のシェルをzshにする
set -g default-shell /usr/local/bin/zsh
set -g default-command /usr/local/bin/zsh

# 設定ファイルをリロードする
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# Escキーの遅延を解消
set -s escape-time 0

# ウィンドウのインデックスを1から始める
set -g base-index 1

# ペインのインデックスを1から始める
set -g pane-base-index 1

# マウス操作を有効化
set -g mouse on


## ----------------------------------------
##  Prefix key
## ----------------------------------------
# prefixキーをC-qに変更
set -g prefix C-t

# C-bのキーバインドを解除
unbind C-b


## ----------------------------------------
##  Key bindings for pane operations
## ----------------------------------------
# | でペインを縦分割する
bind | split-window -h

# - でペインを縦分割する
bind - split-window -v

# ペインの移動
bind -n C-o select-pane -t :.+  # 次のペインへ移動 (Ctrl + o)
bind -n C-h select-pane -L      # 左のペインへ移動 (Ctrl + h)
bind -n C-j select-pane -D      # 下のペインへ移動 (Ctrl + j)
bind -n C-k select-pane -U      # 上のペインへ移動 (Ctrl + k)
bind -n C-l select-pane -R      # 右のペインへ移動 (Ctrl + l)

# ペインのサイズ変更
bind -n C-z resize-pane -Z      # 最大化する (Ctrl + z)
bind -r H resize-pane -L 5      # 左に広げる (prefix + H)
bind -r J resize-pane -D 5      # 下に広げる (prefix + J)
bind -r K resize-pane -U 5      # 上に広げる (prefix + K)
bind -r L resize-pane -R 5      # 右に広げる (prefix + L)


## ----------------------------------------
##  Appearrance settings
## ----------------------------------------
# 256色モードを有効にする
set -g default-terminal screen-256color
set -g terminal-overrides 'xterm:colors=256'

# prefixキーを押したときにステータスバーのユーザ名の色を反転させる
set -g status-left '#[fg=cyan,bg=#303030]#{?client_prefix,#[reverse],} #H[#S] #[default]'

# ウィンドウリストの色を設定する
setw -g window-status-style bg="default","dim",fg="cyan"

# アクティブなウィンドウを目立たせる
setw -g window-status-current-style bg="red","bright",fg="white"

# ペインボーダーの色を設定する
# set -g pane-border-style bg="black",fg="green"

# アクティブなペインを目立たせる
set -g pane-border-style bg="yellow",fg="white"

# コマンドラインの色を設定する
set -g message-style bg="black","bright",fg="white"



## ----------------------------------------
##  Status line settings
## ----------------------------------------
# status line を更新する間隔を1 秒にする
set -g status-interval 1

# window-status を中央揃えで配置
set -g status-justify "centre"

# ステータスバーを上部に配置
set -g status-position top

# 左パネル設定
set -g status-left-length 90
# set -g status-left "#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P"
set-option -g status-left '#[fg=cyan,bg=#303030]#{?client_prefix,#[reverse],} #H[#S] #[default]'

# 右パネル設定
set -g status-right-length 90
set -g status-right "#[fg=cyan][%Y-%m-%d(%a) %H:%M]"

# status line の背景色を指定
set -g status-bg "#1e2132"

# status line の文字色を指定
set -g status-fg "colour255"

## window-status のフォーマットを指定する。
setw -g window-status-format " #I: #W "

# カレントウィンドウの window-status のフォーマットを指定する
setw -g window-status-current-format "#[fg=colour255,bg=colour27,bold] #I: #W #[default]"

## ヴィジュアルノーティフィケーションを有効にする
setw -g monitor-activity on
set -g visual-activity on
